@import "tailwindcss";

:root {
  --background: #050312;
  --foreground: #f7f5ff;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #03010a;
    --foreground: #f0f1ff;
  }
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), "Zen Kaku Gothic New",
    "Hiragino Kaku Gothic ProN", "Yu Gothic", "游ゴシック体", sans-serif;
  min-height: 100vh;
}

.glitch-button {
  position: relative;
  opacity: 0;
  transform: translate3d(0, 12px, 0);
  transition: opacity 0.6s ease, transform 0.6s ease;
  overflow: hidden;
  isolation: isolate;
}

.glitch-button::before,
.glitch-button::after {
  content: attr(data-label);
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: inherit;
  mix-blend-mode: screen;
  opacity: 0;
  pointer-events: none;
}

.glitch-button::before {
  color: rgba(255, 255, 255, 0.8);
  text-shadow: 2px 0 rgba(0, 255, 255, 0.6);
}

.glitch-button::after {
  color: rgba(255, 255, 255, 0.8);
  text-shadow: -2px 0 rgba(255, 0, 255, 0.6);
}

.glitch-button--hidden {
  opacity: 0;
  transform: translate3d(0, 12px, 0);
}

.glitch-button--visible {
  opacity: 1;
  transform: translate3d(0, 0, 0);
  animation: glitch-flicker 0.6s steps(2, end);
}

.glitch-button--visible::before,
.glitch-button--visible::after {
  animation: glitch-scan 0.45s steps(2, end);
}

.cast-card-glitch {
  position: relative;
  visibility: hidden;
  opacity: 0;
  transform: translate3d(0, 28px, 0) scale(0.96);
  transition:
    opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.6s cubic-bezier(0.4, 0, 0.2, 1),
    filter 0.6s ease;
  filter: saturate(0.5) contrast(0.9);
  border-radius: 0;
  padding: 1.5rem 0;
  border-top: 1px solid rgba(255, 255, 255, 0.12);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  isolation: isolate;
}

.cast-card-glitch::before,
.cast-card-glitch::after {
  content: "";
  position: absolute;
  left: 0;
  width: 100%;
  height: 1px;
  border-radius: 0;
  pointer-events: none;
  opacity: 0;
  mix-blend-mode: screen;
  background: linear-gradient(90deg, rgba(236, 72, 153, 0.2), rgba(147, 51, 234, 0.65), rgba(59, 130, 246, 0.35));
  filter: drop-shadow(0 0 18px rgba(147, 51, 234, 0.35));
}

.cast-card-glitch::before {
  top: 0;
}

.cast-card-glitch::after {
  top: auto;
  bottom: 0;
  background: linear-gradient(90deg, rgba(59, 130, 246, 0.15), rgba(236, 72, 153, 0.6), rgba(59, 130, 246, 0.15));
}

.cast-card-glitch--hidden {
  visibility: hidden;
}

.cast-card-glitch--visible {
  visibility: visible;
  opacity: 1;
  transform: translate3d(0, 0, 0) scale(1);
  filter: saturate(1) contrast(1);
}

.cast-card-glitch--visible::before {
  opacity: 0.6;
  animation: card-glitch-shift 0.55s steps(2, end);
}

.cast-card-glitch--visible::after {
  opacity: 0.6;
  animation: card-glitch-scan 0.65s steps(2, end);
}

.cast-card-glitch.neon-laser-frame::before,
.cast-card-glitch.neon-laser-frame::after {
  opacity: 0;
  animation-play-state: paused;
  inset: auto;
  left: 0;
  right: 0;
  height: 1px;
  padding: 0;
  border-radius: 0;
  -webkit-mask: none;
  mask: none;
  background-size: 220% 100%;
}

.cast-card-glitch.neon-laser-frame::before {
  top: 0;
}

.cast-card-glitch.neon-laser-frame::after {
  bottom: 0;
}

.cast-card-glitch--visible.neon-laser-frame::before,
.cast-card-glitch--visible.neon-laser-frame::after {
  opacity: 1;
  animation-play-state: running;
  animation-delay: 0.12s;
}

.cast-card-glitch .neon-laser-gap,
.cast-card-glitch .neon-laser-inner {
  opacity: 0;
  animation-play-state: paused;
  transition: opacity 0.4s ease;
}

.cast-card-glitch--visible .neon-laser-gap,
.cast-card-glitch--visible .neon-laser-inner {
  opacity: 1;
  animation-play-state: running;
  animation-delay: 0.18s;
}
.cast-card-glitch--visible .neon-laser-gap,
.cast-card-glitch--visible .neon-laser-inner,
.cast-card-glitch.neon-laser-frame::before,
.cast-card-glitch.neon-laser-frame::after {
  border-radius: 0;
}

.cast-card-glitch .cast-card {
  border-top: none;
  border-bottom: none;
  padding-top: 0;
  padding-bottom: 0;
}

.cast-card-glitch .neon-laser-gap,
.cast-card-glitch .neon-laser-inner {
  inset: auto;
  left: 0;
  right: 0;
  height: 1px;
  border-radius: 0;
}

.cast-card-glitch .neon-laser-gap {
  top: 0;
  background-image: linear-gradient(90deg, rgba(217, 70, 239, 0.4), rgba(125, 211, 252, 0.5));
}

.cast-card-glitch .neon-laser-inner {
  bottom: 0;
  background-image: linear-gradient(90deg, rgba(125, 211, 252, 0.3), rgba(236, 72, 153, 0.7));
}

.cast-name--serif {
  font-family: "Georgia", "Times New Roman", "Hiragino Mincho ProN", "Yu Mincho", serif;
  letter-spacing: 0.05em;
}

.cast-name--yuji {
  font-family: var(--font-hachi-maru), "Hachi Maru Pop", "M PLUS Rounded 1c", "BIZ UDPGothic", cursive;
  letter-spacing: 0.08em;
}

.cast-name--dela {
  font-family: var(--font-dela-gothic), "Dela Gothic One", "M PLUS Rounded 1c", "BIZ UDPGothic", sans-serif;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

@media (max-width: 640px) {
  .cast-card-glitch {
    transform: translate3d(42px, 0, 0) scale(0.94);
  }

  .cast-card-glitch--visible {
    transform: translate3d(0, 0, 0) scale(1);
  }

  .cast-card-glitch--visible::before {
    animation: card-glitch-shift-mobile 0.55s steps(2, end);
  }

  .cast-card-glitch--visible::after {
    animation: card-glitch-scan-mobile 0.65s steps(2, end);
  }
}

.neon-outline-text {
  color: transparent;
  -webkit-text-stroke: 2px rgba(255, 130, 28, 0.95);
  text-stroke: 2px rgba(255, 130, 28, 0.95);
  text-shadow: 0 0 8px rgba(255, 94, 0, 0.9), 0 0 18px rgba(255, 187, 0, 0.8);
  letter-spacing: 0.3em;
  animation: neon-outline-pulse 1.6s ease-in-out infinite;
}

.neon-laser-frame {
  position: relative;
  overflow: hidden;
  isolation: isolate;
  border-radius: 0;
}

.neon-laser-frame::before {
  content: "";
  position: absolute;
  inset: 0;
  padding: 2px;
  border-radius: inherit;
  box-sizing: border-box;
  background: linear-gradient(
    120deg,
    rgba(0, 170, 255, 0.12),
    rgba(0, 210, 255, 0.95),
    rgba(0, 255, 255, 0.95),
    rgba(140, 255, 255, 0.9),
    rgba(0, 210, 255, 0.95),
    rgba(0, 255, 255, 0.95)
  );
  background-size: 320% 320%;
  filter: drop-shadow(0 0 12px rgba(0, 210, 255, 0.9)) drop-shadow(0 0 20px rgba(0, 255, 255, 0.7));
  mix-blend-mode: screen;
  animation: neon-border-run 0.75s linear infinite, neon-flicker 0.275s steps(2, end) infinite;
  pointer-events: none;
  z-index: 0;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

.neon-laser-gap {
  position: absolute;
  inset: 0;
  padding: 2px;
  border-radius: inherit;
  box-sizing: border-box;
  pointer-events: none;
  z-index: 2;
  background-image: repeating-linear-gradient(
      115deg,
      rgba(5, 3, 18, 0) 0 32px,
      rgba(5, 3, 18, 0.95) 32px 46px
    ),
    repeating-linear-gradient(
      -65deg,
      rgba(5, 3, 18, 0) 0 26px,
      rgba(5, 3, 18, 0.9) 26px 38px
    );
  mix-blend-mode: normal;
  animation: neon-gap-shift 0.875s ease-in-out infinite;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

.neon-laser-frame::after {
  content: "";
  position: absolute;
  inset: -60% -10%;
  border-radius: inherit;
  background: radial-gradient(circle, rgba(255, 0, 204, 0.25), transparent 60%),
    radial-gradient(circle, rgba(0, 255, 255, 0.2), transparent 50%);
  opacity: 0.4;
  mix-blend-mode: screen;
  animation: neon-ambient 9s ease-in-out infinite alternate;
  pointer-events: none;
  z-index: 0;
}

.neon-laser-inner {
  position: absolute;
  inset: 10px;
  padding: 1.5px;
  border-radius: inherit;
  box-sizing: border-box;
  pointer-events: none;
  z-index: 1;
  background-image: linear-gradient(
      215deg,
      rgba(0, 190, 255, 0.08),
      rgba(0, 230, 255, 0.85),
      rgba(140, 255, 255, 0.85),
      rgba(180, 255, 255, 0.8),
      rgba(0, 255, 255, 0.9)
    ),
    repeating-linear-gradient(
      65deg,
      rgba(5, 3, 18, 0) 0 18px,
      rgba(5, 3, 18, 0.85) 18px 24px
    );
  background-size: 250% 250%, 140% 140%;
  mix-blend-mode: screen;
  filter: drop-shadow(0 0 6px rgba(0, 255, 255, 0.85));
  animation: neon-inner-run 1.4s ease-in-out infinite alternate, neon-inner-flicker 0.18s steps(2, end) infinite;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

.loading-screen {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.08), transparent 55%),
    #030111;
  z-index: 40;
  pointer-events: none;
  overflow: hidden;
}

.loading-screen__logo {
  position: relative;
  font-size: clamp(2rem, 9vw, 5.5rem);
  font-weight: 600;
  letter-spacing: 0.2em;
  text-transform: lowercase;
  text-align: center;
  color: #f8f6ff;
  text-rendering: optimizeLegibility;
  filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.25));
  transition: transform 0.3s ease;
}

.loading-screen__logo--zoom {
  animation: loading-zoom 1.1s ease forwards;
}

.loading-screen__base {
  display: inline-block;
  animation: loading-flicker 1.6s steps(2, end) infinite;
}

.loading-screen__layer {
  position: absolute;
  inset: 0;
  font-size: inherit;
  font-weight: inherit;
  letter-spacing: inherit;
  text-transform: inherit;
  opacity: 0.7;
  mix-blend-mode: screen;
  animation: loading-glitch 0.5s steps(2, end) infinite;
}

.loading-screen__layer--pink {
  color: rgba(255, 72, 201, 0.9);
  text-shadow: 1px 0 8px rgba(255, 72, 201, 0.75);
}

.loading-screen__layer--blue {
  color: rgba(90, 200, 255, 0.95);
  text-shadow: -1px 0 8px rgba(90, 200, 255, 0.75);
  animation-delay: 0.15s;
}

.loading-screen__scan {
  position: absolute;
  inset: 0;
  color: rgba(255, 255, 255, 0.25);
  letter-spacing: inherit;
  animation: loading-scan 1.4s ease-in-out infinite;
  mix-blend-mode: lighten;
}

@keyframes loading-glitch {
  0% {
    transform: translate(0);
  }
  20% {
    transform: translate(-2px, 1px);
  }
  40% {
    transform: translate(2px, -1px);
  }
  60% {
    transform: translate(-3px, -2px);
  }
  80% {
    transform: translate(3px, 2px);
  }
  100% {
    transform: translate(0);
  }
}

@keyframes loading-flicker {
  0%,
  100% {
    opacity: 0.7;
    filter: blur(0);
  }
  25% {
    opacity: 1;
    filter: blur(0.5px);
  }
  50% {
    opacity: 0.65;
    filter: blur(0.7px);
  }
  75% {
    opacity: 0.9;
    filter: blur(0.3px);
  }
}

@keyframes loading-scan {
  0% {
    clip-path: inset(0 0 90% 0);
    opacity: 0.1;
  }
  50% {
    clip-path: inset(40% 0 40% 0);
    opacity: 0.6;
  }
  100% {
    clip-path: inset(90% 0 0 0);
    opacity: 0.15;
  }
}

@keyframes loading-zoom {
  0% {
    transform: scale(1);
    letter-spacing: 0.2em;
    opacity: 1;
  }
  40% {
    transform: scale(2.2);
    opacity: 1;
  }
  100% {
    transform: scale(7);
    opacity: 0;
    letter-spacing: 0.6em;
  }
}

@keyframes neon-border-run {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes neon-flicker {
  0%,
  18%,
  100% {
    opacity: 0.25;
  }
  10% {
    opacity: 0.95;
  }
  32% {
    opacity: 0.6;
  }
  55% {
    opacity: 1;
  }
  72% {
    opacity: 0.5;
  }
  84% {
    opacity: 0.85;
  }
}

@keyframes neon-ambient {
  0% {
    transform: translate(-10%, -6%) scale(1);
    opacity: 0.2;
  }
  50% {
    transform: translate(8%, 4%) scale(1.1);
    opacity: 0.5;
  }
  100% {
    transform: translate(-5%, 9%) scale(0.9);
    opacity: 0.35;
  }
}

@keyframes neon-gap-shift {
  0% {
    background-position: 0 0, 0 0;
    opacity: 0.45;
  }
  33% {
    background-position: -60px -10px, 25px -30px;
    opacity: 0.75;
  }
  66% {
    background-position: -110px 30px, -15px -70px;
    opacity: 0.55;
  }
  100% {
    background-position: -160px 5px, 40px -90px;
    opacity: 0.7;
  }
}

@keyframes neon-inner-run {
  0% {
    background-position: 50% 0, 0 0;
  }
  50% {
    background-position: 50% 100%, -28px -18px;
  }
  100% {
    background-position: 50% 0, -54px -42px;
  }
}

@keyframes neon-inner-flicker {
  0%,
  24%,
  100% {
    opacity: 0.45;
  }
  10% {
    opacity: 0.8;
  }
  40% {
    opacity: 0.55;
  }
  68% {
    opacity: 0.95;
  }
  85% {
    opacity: 0.6;
  }
}

@keyframes glitch-flicker {
  0% {
    filter: blur(0.5px);
  }
  30% {
    filter: blur(1.6px);
    opacity: 0.4;
  }
  45% {
    filter: blur(0);
    opacity: 1;
  }
  60% {
    filter: blur(2px);
    opacity: 0.35;
  }
  100% {
    filter: blur(0);
    opacity: 1;
  }
}

@keyframes glitch-scan {
  0%,
  100% {
    opacity: 0;
  }
  30% {
    opacity: 0.9;
    transform: translate3d(2px, -2px, 0);
  }
  60% {
    opacity: 0.6;
    transform: translate3d(-3px, 3px, 0);
  }
}

@keyframes neon-outline-pulse {
  0%,
  100% {
    text-shadow: 0 0 8px rgba(255, 94, 0, 0.9), 0 0 18px rgba(255, 187, 0, 0.8);
  }
  50% {
    text-shadow: 0 0 14px rgba(255, 178, 0, 1), 0 0 26px rgba(255, 233, 122, 0.95);
  }
}

@keyframes card-glitch-shift {
  0% {
    transform: translate3d(-6px, -4px, 0);
    opacity: 0;
  }
  35% {
    transform: translate3d(4px, 3px, 0);
    opacity: 0.6;
  }
  60% {
    transform: translate3d(-3px, 1px, 0);
    opacity: 0.25;
  }
  100% {
    transform: translate3d(0, 0, 0);
    opacity: 0;
  }
}

@keyframes card-glitch-scan {
  0% {
    transform: translate3d(0, -6px, 0);
    opacity: 0.2;
  }
  45% {
    transform: translate3d(0, 6px, 0);
    opacity: 0.7;
  }
  70% {
    transform: translate3d(0, -2px, 0);
    opacity: 0.35;
  }
  100% {
    transform: translate3d(0, 0, 0);
    opacity: 0;
  }
}

@keyframes card-glitch-shift-mobile {
  0% {
    transform: translate3d(12px, 0, 0);
    opacity: 0.1;
  }
  45% {
    transform: translate3d(-8px, 0, 0);
    opacity: 0.5;
  }
  70% {
    transform: translate3d(4px, 0, 0);
    opacity: 0.35;
  }
  100% {
    transform: translate3d(0, 0, 0);
    opacity: 0;
  }
}

@keyframes card-glitch-scan-mobile {
  0% {
    transform: translate3d(28px, 0, 0);
    opacity: 0.25;
  }
  50% {
    transform: translate3d(-12px, 0, 0);
    opacity: 0.6;
  }
  80% {
    transform: translate3d(6px, 0, 0);
    opacity: 0.4;
  }
  100% {
    transform: translate3d(0, 0, 0);
    opacity: 0;
  }
}
